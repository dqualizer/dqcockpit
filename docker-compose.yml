# docker compose file for local run :)
# Usage: docker-compose up --build
version: "3.9"
services:

###
# Local standard build with official image and volume mounted provisioning
###
  grafana:
    image: grafana/grafana
    container_name: "grafana"
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=demo
      - GF_PATHS_PROVISIONING=/usr/share/grafana/custom/
      - GF_USERS_DEFAULT_THEME=light
      - DOCKER_INFLUXDB_INIT_BUCKET=my-db
    volumes:
      - ./grafana/provisioning:/usr/share/grafana/custom/
    ports:
      - "3777:3000"


###
# Local build with custom image
###
  grafana-custom:
    build:
      context: grafana
      dockerfile: Dockerfile
    container_name: "grafana-custom"
    ports:
      - "3999:3000"